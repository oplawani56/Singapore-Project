---
title: "Singapore and Age"
description: |
  Welcome to the website. I hope you enjoy it!
site: distill::distill_website
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)

# Learn more about creating websites with Distill at:
# https://rstudio.github.io/distill/website.html

# Learn more about publishing to GitHub Pages at:
# https://rstudio.github.io/distill/publish_website.html#github-pages

```

```{r}
s_data <- read_csv(file = "FN-Sing-Residents-Age/Sing-Residents-Age.csv", na = "na")

sum <- s_data %>% 
  filter(year == 2015) %>% 
  filter(level_1 == "Total Residents") %>% 
  filter(level_2 %in% c("0 - 4 Years", "5 - 9 Years", "10 - 14 Years", "15 - 19 Years", "20 - 24 Years", "25 - 29 Years", "30 - 34 Years", "35 - 39 Years", "40 - 44 Years", "45 - 49 Years", "50 - 54 Years", "55 - 59 Years", "60 - 64 Years", "65 - 69 Years", "70 - 74 Years", "75 - 79 Years", "80 Years & Over")) %>% 
  summarize(sum(value))

s_data %>% 
  filter(year == 2015) %>% 
  filter(level_1 %in% c("Total Male Residents", "Total Female Residents")) %>% 
  mutate(value = if_else(level_1 == "Total Female Residents", value * -1, value)) %>%
  
  filter(level_2 %in% c("0 - 4 Years", "5 - 9 Years", "10 - 14 Years", "15 - 19 Years", "20 - 24 Years", "25 - 29 Years", "30 - 34 Years", "35 - 39 Years", "40 - 44 Years", "45 - 49 Years", "50 - 54 Years", "55 - 59 Years", "60 - 64 Years", "65 - 69 Years", "70 - 74 Years", "75 - 79 Years", "80 Years & Over")) %>% 
  
  mutate(level_2 = factor(level_2, levels = c("0 - 4 Years", "5 - 9 Years", "10 - 14 Years", "15 - 19 Years", "20 - 24 Years", "25 - 29 Years", "30 - 34 Years", "35 - 39 Years", "40 - 44 Years", "45 - 49 Years", "50 - 54 Years", "55 - 59 Years", "60 - 64 Years", "65 - 69 Years", "70 - 74 Years", "75 - 79 Years", "80 Years & Over"))) %>%
  
  ggplot(aes(x = value/3514663, y = level_2, fill = level_1)) +
  geom_col() +
  scale_x_continuous(limits = c(-0.05, 0.05), breaks = seq(-0.05, 0.05, 0.02), labels = c("5.0%", "3.0%", "1.0%", "1.0%", "3.0%", "5.0%")) +
labs(title = "Break Down of Singapore's Population",
     subtitle = "Singapores Older Population Outnumbers its Younger     Population",
     x = "Legend", 
     y = "Age",
     caption = "Singapore - 2015 
                Population: 3,514,663
                Source: data.gov.sg")
```